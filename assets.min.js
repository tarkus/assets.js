(function(){var e,t;e=function(){function e(){}return e.storagePrefix="assets-",e.defaultExpiration=5e3,e.get=function(t,n,r){var i,s,o,u,a;u={url:t,key:n.key!=null?n.key:t.split("/").pop().split("?")[0]};try{o=localStorage.getItem(e.storagePrefix+u.key);if(!o)throw new Error("Invalid item");i=JSON.parse(o||"false");if(u.url===i.url)return r(i);if(!o)throw new Error("New item")}catch(f){return s=f,a=new XMLHttpRequest,a.open("GET",t),a.onreadystatechange=function(){var t;if(a.readyState===4)return a.status!==200?new Error(a.statusText):(t=+(new Date),u.data=a.responseText,u.stamp=t,u.expire=t+(n.expire||e.defaultExpiration)*60*60*1e3,e.save(u,r))},a.send()}},e.save=function(t,n){var r,i,s,o,u;n==null&&(n=null);try{return localStorage.setItem(e.storagePrefix+t.key,JSON.stringify(t)),typeof n=="function"?n(t):void 0}catch(a){r=a;if(r.name.toUpperCase().indexOf("QUOTA")<0)return typeof n=="function"?n(t):void 0;s=[];for(o=0,u=localStorage.length;o<u;o++)i=localStorage[o],i.indexOf(e.storagePrefix)===0&&s.push(JSON.parse(localStorage[i]));return s.length<1?!1:(s.sort(function(e,t){return e.stamp-t.stamp}),e.remove(s[0].key),e.save(t,n))}},e.javascript=function(t,n){var r,i,s,o,u;n==null&&(n={});if(Object.prototype.toString.call(t)==="[object Array]"){for(o=0,u=t.length;o<u;o++)s=t[o],e.javascript(s,n);return}return t.slice(0,6)==="<script"&&(t=t.match(/src="[^"]+"/)),r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script"),i.typel="text/javascript",i.defer=!0,e.get(t,n,function(e){return i.text=e.data,i.setAttribute("id","assets-"+e.key.replace(".","_")),r.appendChild(i)})},e.css=function(t,n){var r,i;return n==null&&(n={}),i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style"),r.type="text/css",e.get(t,n,function(e){return r.styleSheet?r.styleSheet.cssText=e.data:r.appendChild(document.createTextNode(e.data)),r.setAttribute("id","assets-"+e.key.replace(".","_")),i.appendChild(r)})},e.remove=function(t){return typeof localStorage=="undefined"||localStorage===null?e:(localStorage.removeItem(e.storagePrefix+t),e)},e.clear=function(t){var n,r,i,s,o;if(typeof localStorage=="undefined"||localStorage===null)return e;i=+(new Date);for(s=0,o=localStorage.length;s<o;s++)n=localStorage[s],r=n.split(storagePrefix)[1],(r&&!t||e.get(r).expire<=i)&&e.remove(r);return e},e}.call(this),t=function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e},window.Assets=e}).call(this)